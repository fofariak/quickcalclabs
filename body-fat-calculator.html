<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accurate Body Fat Calculator (US Navy Method) | QuickCalcLabs</title>
  <meta name="description" content="Use our free Body Fat Calculator, based on the U.S. Navy method, to accurately estimate your body fat percentage. Learn how to measure, interpret your results, and understand its importance for your health and fitness.">
  <meta name="keywords" content="body fat calculator, body fat percentage, navy body fat, body composition calculator, body fat estimator, fitness tracker, health calculator, measure body fat">
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="css/style.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8360231242892770"
     crossorigin="anonymous"></script>
  <style>
    /* NOTE: I am preserving your original styling as requested. */
    /* Modern Calculator Styling */
    .calc-wrapper {
      max-width: 1000px;
      margin: 0 auto;
      padding: 40px 30px;
      background: var(--card-bg, #fff);
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      backdrop-filter: blur(10px);
    }

    @media (max-width: 1200px) {
      .calc-wrapper {
        max-width: 900px;
        padding: 35px 25px;
      }
    }

    @media (max-width: 768px) {
      .calc-wrapper {
        max-width: 95%;
        padding: 25px 20px;
        margin: 0 10px;
      }
    }
    
    .calc-wrapper h1 {
      text-align: center;
      color: var(--text, #333);
      margin-bottom: 10px;
      font-size: 2.2rem;
      font-weight: 700;
    }
    
    .subtitle {
      text-align: center;
      color: var(--text-muted, #666);
      margin-bottom: 30px;
      font-size: 1.1rem;
      line-height: 1.5;
    }

    /* Unit Toggle Buttons */
    .units {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
      justify-content: center;
    }
    
    .units button {
      padding: 12px 20px;
      border-radius: 25px;
      border: 2px solid rgba(255,107,129,0.3);
      background: transparent;
      color: var(--text, #666);
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      font-size: 14px;
    }
    
    .units button.active {
      background: linear-gradient(135deg, #ff6b81, #ff8a95);
      color: white;
      border-color: #ff6b81;
      box-shadow: 0 4px 15px rgba(255,107,129,0.4);
      transform: translateY(-2px);
    }

    /* Form Styling */
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text, #333);
      font-size: 14px;
    }

    input, select {
      width: 100%;
      padding: 14px 18px;
      border: 2px solid rgba(255,107,129,0.2);
      border-radius: 12px;
      font-size: 16px;
      background: var(--input-bg, #f8f9fa);
      color: var(--text, #333);
      transition: all 0.3s ease;
      margin-bottom: 18px;
      box-sizing: border-box;
    }

    @media (min-width: 1200px) {
      input, select {
        padding: 16px 20px;
        font-size: 17px;
      }
    }

    input:focus, select:focus {
      outline: none;
      border-color: #ff6b81;
      box-shadow: 0 0 0 3px rgba(255,107,129,0.1);
      background: white;
    }

    .row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    @media (min-width: 1200px) {
      .row {
        gap: 30px;
      }
    }

    /* Desktop layout for better space utilization */
    @media (min-width: 768px) {
      #imperial-fields .row,
      #metric-fields .row {
        grid-template-columns: 1fr 1fr;
        gap: 25px;
      }

      .form-section {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 25px;
        margin-bottom: 20px;
      }

      .form-section > div {
        display: flex;
        flex-direction: column;
      }
    }

    @media (max-width: 767px) {
      .row {
        grid-template-columns: 1fr;
        gap: 16px;
      }
    }

    button[type="submit"] {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #ff6b81, #ff8a95);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 10px;
    }

    button[type="submit"]:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255,107,129,0.4);
    }

    .hint {
      background: rgba(255,107,129,0.1);
      padding: 16px 18px;
      border-radius: 12px;
      color: var(--text-muted, #666);
      font-size: 14px;
      line-height: 1.5;
      margin: 15px 0;
      border-left: 4px solid #ff6b81;
    }

    @media (min-width: 1200px) {
      .hint {
        padding: 18px 22px;
        font-size: 15px;
      }
    }

    /* Results */
    .result-box {
      margin-top: 20px;
      padding: 20px;
      background: linear-gradient(135deg, rgba(255,107,129,0.1), rgba(255,138,149,0.05));
      border-radius: 15px;
      border-left: 4px solid #ff6b81;
    }

    .result-box h3 {
      color: #ff6b81;
      margin-bottom: 15px;
      font-size: 1.3rem;
    }

    .result-box p {
      margin-bottom: 8px;
      font-size: 15px;
      line-height: 1.4;
    }

    .fun-fact {
      background: rgba(255,107,129,0.15);
      padding: 12px;
      border-radius: 10px;
      margin-top: 15px;
      font-style: italic;
      color: var(--text, #555);
    }

    /* Explore more */
    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 25px;
    }
    
    .card {
      background: var(--card-bg, #fff);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
      text-align: center;
      border: 1px solid rgba(255,107,129,0.1);
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0,0,0,0.15);
      border-color: rgba(255,107,129,0.3);
    }
    
    .card a {
      text-decoration: none;
      font-weight: 600;
      color: var(--text, #333);
      font-size: 16px;
    }
    
    .card a:hover {
      color: #ff6b81;
    }

    /* FAQ Section */
    .faq-section {
      max-width: 800px;
      margin: 40px auto;
      padding: 0 20px;
    }

    .faq-section h2 {
      text-align: center;
      margin-bottom: 30px;
      color: var(--text, #333);
      font-size: 2rem;
    }

    .faq {
      margin-bottom: 15px;
      border-radius: 12px;
      background: var(--card-bg, #fff);
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      overflow: hidden;
      border: 1px solid rgba(255,107,129,0.1);
    }
    
    .faq h3 {
      margin: 0;
      padding: 18px 20px;
      background: linear-gradient(135deg, #ff6b81, #ff8a95);
      color: white;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .faq h3:hover {
      background: linear-gradient(135deg, #ff8a95, #ff6b81);
    }
    
    .faq p {
      margin: 0;
      padding: 18px 20px;
      display: none;
      font-size: 14px;
      line-height: 1.6;
      color: var(--text, #555);
    }
    
    .faq.active p {
      display: block;
    }


    .disclaimer-box {
        padding: 15px;
        margin: 20px 0;
        border-left: 4px solid #f6e05e;
        background-color: #fffbe9;
        border-radius: 4px;
    }

    /* Dark mode support */
    .dark-mode .calc-wrapper,
    .dark-mode .card,
    .dark-mode .faq {
      background: rgba(255,255,255,0.05);
      border-color: rgba(255,107,129,0.2);
    }

    .dark-mode input,
    .dark-mode select {
      background: rgba(255,255,255,0.05);
      border-color: rgba(255,107,129,0.3);
      color: white;
    }

    .dark-mode .disclaimer-box {
        background-color: #4a5568;
        border-left-color: #f6ad55;
    }


    /* Floating CTA */
    .floating-cta {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: linear-gradient(135deg, #ff6b81, #ff8a95);
      color: white;
      padding: 12px 20px;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(255,107,129,0.4);
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .floating-cta:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255,107,129,0.6);
    }

    @media (max-width: 768px) {
      .row {
        grid-template-columns: 1fr;
        gap: 12px;
      }
      
      .calc-wrapper h1 {
        font-size: 1.8rem;
      }
      
      .floating-cta {
        bottom: 15px;
        right: 15px;
        padding: 10px 16px;
        font-size: 14px;
      }

      .calc-wrapper {
        margin: 0 5px;
        padding: 20px 15px;
      }

      input, select {
        padding: 12px 14px;
        font-size: 16px;
        margin-bottom: 14px;
      }

      .hint {
        padding: 12px 16px;
        font-size: 13px;
        margin: 12px 0;
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="header">
    <a href="index.html" class="logo">QuickCalcLabs</a>
    <nav>
      <a href="blog.html">Blog</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
      <button id="darkModeToggle">üåô</button>
    </nav>
  </header>

  <!-- Top Ad -->
  <div class="ad-container">
    <div class="ad-placeholder">728x90 Banner Ad</div>
  </div>

  <!-- Hero Calculator -->
  <section class="calc-wrapper">
    <h1>üìè Body Fat Percentage Calculator</h1>
    <p class="subtitle">Estimate your body fat percentage using the proven US Navy method. Get insights into your body composition and fitness level.</p>

    <div class="units">
      <button id="btnImperial" class="active">Imperial (ft, in, lbs)</button>
      <button id="btnMetric">Metric (cm, kg)</button>
    </div>

    <form id="bfForm" novalidate>
      <div class="row">
        <div>
          <label>üë§ Gender:</label>
          <select id="gender" required>
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>
        </div>
        <div>
          <label>üéÇ Age (years):</label>
          <input id="age" type="number" min="10" placeholder="e.g., 30" />
        </div>
      </div>

      <!-- Imperial Fields -->
      <div id="imperial-fields">
        <div class="row">
          <div>
            <label>üìè Height (feet):</label>
            <input id="heightFt" type="number" min="3" max="8" placeholder="e.g., 5" />
          </div>
          <div>
            <label>üìè Height (inches):</label>
            <input id="heightIn" type="number" min="0" max="11" placeholder="e.g., 8" />
          </div>
        </div>

        <div class="row">
          <div>
            <label>üìê Neck circumference (inches):</label>
            <input id="neckIn" type="number" step="0.1" min="8" max="25" placeholder="e.g., 15.5" />
          </div>
          <div>
            <label>üìê Waist circumference (inches):</label>
            <input id="waistIn" type="number" step="0.1" min="20" max="60" placeholder="e.g., 34.0" />
          </div>
        </div>

        <div id="hipWrap" style="display:none;">
          <label>üìê Hip circumference (inches) - Required for females:</label>
          <input id="hipIn" type="number" step="0.1" min="25" max="65" placeholder="e.g., 38.5" />
        </div>
      </div>

      <!-- Metric Fields -->
      <div id="metric-fields" style="display:none">
        <div class="row">
          <div>
            <label>üìè Height (cm):</label>
            <input id="heightCm" type="number" step="0.1" min="120" max="220" placeholder="e.g., 173.0" />
          </div>
          <div>
            <label>üìê Neck circumference (cm):</label>
            <input id="neckCm" type="number" step="0.1" min="20" max="60" placeholder="e.g., 38.0" />
          </div>
        </div>

        <div class="row">
          <div>
            <label>üìê Waist circumference (cm):</label>
            <input id="waistCm" type="number" step="0.1" min="50" max="150" placeholder="e.g., 86.0" />
          </div>
          <div id="hipWrapM" style="display:none;">
            <label>üìê Hip circumference (cm) - Required for females:</label>
            <input id="hipCm" type="number" step="0.1" min="65" max="165" placeholder="e.g., 96.0" />
          </div>
        </div>
      </div>

      <div class="hint">
        üí° <strong>Measurement Tips:</strong> For best results, use a flexible measuring tape. Measure your waist at the narrowest point for men, and at the navel for women. Measure your neck just below the larynx (Adam's apple). For women, measure hips at the widest point.
      </div>

      <button type="submit">Calculate Body Fat %</button>
    </form>

    <div id="result"></div>
  </section>

  <!-- Mid Ad -->
  <div class="ad-container">
    <div class="ad-placeholder">300x250 Mid-Content Ad</div>
  </div>

  <!-- NEW AND IMPROVED SEO Content Section -->
  <section class="seo-content">
    <article>
        <h2>How to Use the Body Fat Calculator</h2>
        <p>Our calculator provides an accurate estimate of your body fat percentage in four simple steps:</p>
        <ol>
            <li><strong>Select Your Units:</strong> Choose between 'Imperial' (feet, inches) or 'Metric' (centimeters) at the top of the calculator.</li>
            <li><strong>Enter Your Details:</strong> Input your gender and age.</li>
            <li><strong>Take Your Measurements:</strong> Enter your height, neck, and waist circumference. For females, a hip measurement is also required for accuracy.</li>
            <li><strong>Calculate:</strong> Click the "Calculate Body Fat %" button to see your estimated body fat percentage, your category, and personalized health guidance.</li>
        </ol>

        <h2>What is Body Fat Percentage?</h2>
        <p>Body Fat Percentage (BFP) is the total mass of fat in your body divided by your total body mass; it includes both essential body fat and storage body fat. Unlike Body Mass Index (BMI), which only considers height and weight, BFP gives you a clearer picture of your body composition‚Äîthe ratio of fat mass to lean mass (muscles, bones, organs, etc.).</p>
        <p>Knowing your BFP is crucial because it's a more direct indicator of your fitness level and risk for certain health conditions than weight alone. Two people can have the same height and weight, but vastly different body compositions and health profiles.</p>
        
        <h2>Understanding Your Body Fat Results in Detail</h2>
        <p>Your result falls into a category based on standards from the American Council on Exercise (ACE). Here's what each category means:</p>
        
        <h3>For Men:</h3>
        <ul>
          <li><b>Essential Fat (2-5%):</b> This is the minimum amount of fat necessary for basic physical and physiological health. Falling below this level can be dangerous.</li>
          <li><b>Athletes (6-13%):</b> This range is typical for elite athletes who are in peak physical condition.</li>
          <li><b>Fitness (14-17%):</b> A lean and healthy range for most active men. It is associated with good health and a low risk of weight-related diseases.</li>
          <li><b>Acceptable (18-24%):</b> This range is considered average and acceptable for most men. While not considered lean, it doesn't typically pose a significant health risk.</li>
          <li><b>Obesity (25%+):</b> This level of body fat is associated with an increased risk for health problems like heart disease, diabetes, and high blood pressure.</li>
        </ul>

        <h3>For Women:</h3>
        <ul>
          <li><b>Essential Fat (10-13%):</b> Women require more essential fat than men for hormonal and reproductive functions. Dropping below this level can disrupt the menstrual cycle and cause other health issues.</li>
          <li><b>Athletes (14-20%):</b> Common for female athletes who maintain high levels of fitness and performance.</li>
          <li><b>Fitness (21-24%):</b> This represents a healthy, fit, and active lifestyle for most women.</li>
          <li><b>Acceptable (25-31%):</b> An average and acceptable range for the general female population.</li>
          <li><b>Obesity (32%+):</b> This level indicates a higher risk for developing chronic diseases and other health complications.</li>
        </ul>

        <h2>The Importance of Measuring Body Fat</h2>
        <p>Tracking your body fat percentage is more insightful than just stepping on a scale. Here‚Äôs why:</p>
        <ul>
            <li><strong>It's a Better Fitness Indicator than BMI:</strong> BMI can misclassify muscular individuals as "overweight." BFP accurately reflects your body composition.</li>
            <li><strong>Tracks Real Progress:</strong> If you're exercising, you might be gaining muscle and losing fat without your total weight changing. BFP measurement will show this positive change.</li>
            <li><strong>Health Risk Assessment:</strong> High body fat, particularly around the abdomen (visceral fat), is linked to a higher risk of cardiovascular disease and type 2 diabetes.</li>
        </ul>

        <h2>‚ùóÔ∏è Accuracy & Limitations of the US Navy Method</h2>
        <p>This calculator uses the U.S. Navy Body Fat Formula, which was developed to be a simple and consistent way to estimate body fat. It's considered reliable for most people, with an accuracy of about ¬±3-4% compared to clinical methods.</p>
        <p>However, it has limitations:</p>
        <ul>
            <li><strong>It's an Estimation:</strong> It's not as precise as a DEXA scan or hydrostatic weighing.</li>
            <li><strong>Measurement Matters:</strong> The accuracy depends entirely on how precisely you take your measurements. Always measure at the same spot for consistent tracking.</li>
            <li><strong>Body Shape Variations:</strong> The formula may be less accurate for individuals with body shapes that differ significantly from the average population (e.g., professional bodybuilders).</li>
        </ul>

        <div class="disclaimer-box">
            <strong>Disclaimer:</strong> This calculator provides an estimate and is for informational purposes only. It is not a substitute for professional medical advice. Consult a healthcare provider for any health concerns or before making decisions about your health.
        </div>
    </article>

    <h3>üîó Explore More Health Tools</h3>
    <div class="card-grid">
      <div class="card"><a href="bmi-calculator.html">‚öñÔ∏è BMI Calculator</a></div>
      <div class="card"><a href="calorie-calculator.html">üî• Calorie Calculator</a></div>
      <div class="card"><a href="macro-calculator.html">ü•ó Macro Calculator</a></div>
    </div>

    <h3>üìö Related Health & Fitness Blogs</h3>
    <div class="card-grid">
      <div class="card"><a href="blog/body-fat-vs-bmi.html">‚öñÔ∏è Body Fat % vs BMI: Which is Better?</a></div>
      <div class="card"><a href="blog/how-to-reduce-body-fat-naturally.html">üèÉ How to Reduce Body Fat Naturally</a></div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="faq-section">
    <h2>‚ùì Frequently Asked Questions</h2>
    
    <div class="faq">
      <h3>How accurate is the US Navy body fat method?</h3>
      <p>The US Navy method is quite accurate for a tape-measure method, with a reported error rate of around ¬±3-4% for most of the population. While not as precise as clinical methods like DEXA scans, it's one of the most reliable and accessible methods available.</p>
    </div>
    
    <div class="faq">
      <h3>Why do women need hip measurements but men don't?</h3>
      <p>Women naturally store more fat in their hips, thighs, and buttocks due to hormonal differences (e.g., estrogen). Including the hip measurement in the formula for women accounts for this gender-specific fat distribution pattern, making the final calculation more accurate.</p>
    </div>
    
    <div class="faq">
      <h3>What's a healthy body fat percentage?</h3>
      <p>Healthy ranges vary by gender, age, and fitness level. For men, a range of 14-24% is generally considered healthy and acceptable. For women, a healthy range is typically 21-31%. Athletes will often have lower percentages.</p>
    </div>
    
    <div class="faq">
      <h3>Can I use this calculator for weight loss tracking?</h3>
      <p>Yes! üí™ Body fat percentage is an excellent tool for tracking fitness progress. It helps you see if you're losing fat while preserving or gaining lean muscle, which is a much better indicator of healthy progress than just tracking your weight on a scale.</p>
    </div>
    
    <div class="faq">
      <h3>How often should I measure my body fat?</h3>
      <p>To get a reliable sense of your progress, it's best to measure every 2 to 4 weeks. Daily measurements can fluctuate due to hydration levels and food intake. For best results, always measure under the same conditions (e.g., in the morning before eating).</p>
    </div>
  </section>

  <!-- Bottom Ad -->
  <div class="ad-container">
    <div class="ad-placeholder">Responsive Footer Ad</div>
  </div>

  <!-- Floating CTA -->
  <a href="index.html" class="floating-cta">üßÆ See All Calculators</a>

  <!-- NEW Footer -->
  <footer>
    <div class="disclaimer affiliate-disclosure">
      <p><strong>Disclaimer:</strong> The calculators and information on this website are for informational purposes only and are not intended to be a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition.</p>
    </div>
    <div class="footer-links">
    <p>¬© 2025 QuickCalcLabs. All Rights Reserved.</p>
    <a href="privacy-policy.html">Privacy Policy</a> | 
    <a href="terms-of-service.html">Terms of Service</a> |
    <a href="affiliate-disclosure.html">Affiliate Disclosure</a>
  </footer>

  <!-- JSON-LD Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "How accurate is the US Navy body fat method?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The US Navy method is quite accurate for a tape-measure method, with a reported error rate of around ¬±3-4% for most of the population. While not as precise as clinical methods like DEXA scans, it's one of the most reliable and accessible methods available."
        }
      },
       {
        "@type": "Question",
        "name": "Why do women need hip measurements but men don't?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Women naturally store more fat in their hips, thighs, and buttocks due to hormonal differences (e.g., estrogen). Including the hip measurement in the formula for women accounts for this gender-specific fat distribution pattern, making the final calculation more accurate."
        }
      },
      {
        "@type": "Question",
        "name": "What's a healthy body fat percentage?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Healthy ranges vary by gender, age, and fitness level. For men, a range of 14-24% is generally considered healthy and acceptable. For women, a healthy range is typically 21-31%. Athletes will often have lower percentages."
        }
      },
      {
        "@type": "Question",
        "name": "Can I use this calculator for weight loss tracking?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! Body fat percentage is an excellent tool for tracking fitness progress because it helps you see if you're losing fat while preserving or gaining lean muscle, which is a much better indicator of healthy progress than just tracking your weight on a scale."
        }
      }
    ]
  }
  </script>

  <script>
    // NOTE: Your original, functional JavaScript is preserved.
    let currentUnit = 'imperial';

    const btnI = document.getElementById('btnImperial');
    const btnM = document.getElementById('btnMetric');
    const impWrap = document.getElementById('imperial-fields');
    const metWrap = document.getElementById('metric-fields');
    const hipWrap = document.getElementById('hipWrap');
    const hipWrapM = document.getElementById('hipWrapM');
    const genderEl = document.getElementById('gender');
    const resultEl = document.getElementById('result');

    function setUnit(u) {
      currentUnit = u;
      if (u === 'imperial') {
        impWrap.style.display = 'block';
        metWrap.style.display = 'none';
        btnI.classList.add('active');
        btnM.classList.remove('active');
      } else {
        impWrap.style.display = 'none';
        metWrap.style.display = 'block';
        btnM.classList.add('active');
        btnI.classList.remove('active');
      }
      updateHipVisibility();
      resultEl.innerHTML = '';
    }

    btnI.addEventListener('click', () => setUnit('imperial'));
    btnM.addEventListener('click', () => setUnit('metric'));

    function updateHipVisibility() {
      const g = genderEl.value;
      if (g === 'female') {
        hipWrap.style.display = (currentUnit === 'imperial') ? 'block' : 'none';
        hipWrapM.style.display = (currentUnit === 'metric') ? 'block' : 'none';
      } else {
        hipWrap.style.display = 'none';
        hipWrapM.style.display = 'none';
      }
    }
    
    genderEl.addEventListener('change', updateHipVisibility);
    setUnit('imperial');

    function log10(x) { return Math.log(x) / Math.LN10; }

    document.getElementById('bfForm').addEventListener('submit', function(e) {
      e.preventDefault();
      resultEl.innerHTML = '';

      const gender = genderEl.value;
      let heightIn, neckIn, waistIn, hipIn;

      if (currentUnit === 'imperial') {
        const ft = parseFloat(document.getElementById('heightFt').value) || 0;
        const inch = parseFloat(document.getElementById('heightIn').value) || 0;
        heightIn = ft * 12 + inch;
        neckIn = parseFloat(document.getElementById('neckIn').value);
        waistIn = parseFloat(document.getElementById('waistIn').value);
        hipIn = gender === 'female' ? parseFloat(document.getElementById('hipIn').value) : null;
      } else {
        const heightCm = parseFloat(document.getElementById('heightCm').value);
        const neckCm = parseFloat(document.getElementById('neckCm').value);
        const waistCm = parseFloat(document.getElementById('waistCm').value);
        const hipCm = gender === 'female' ? parseFloat(document.getElementById('hipCm').value) : null;
        heightIn = heightCm / 2.54;
        neckIn = neckCm / 2.54;
        waistIn = waistCm / 2.54;
        hipIn = gender === 'female' ? hipCm / 2.54 : null;
      }

      if (!heightIn || !neckIn || !waistIn || (gender === 'female' && !hipIn)) {
        resultEl.innerHTML = '<div class="result-box"><p style="color:#ff6b6b">‚ö†Ô∏è Please fill all required fields correctly.</p></div>';
        return;
      }

      let bodyFat;
      if (gender === 'male') {
        bodyFat = 86.010 * log10(waistIn - neckIn) - 70.041 * log10(heightIn) + 36.76;
      } else {
        bodyFat = 163.205 * log10(waistIn + hipIn - neckIn) - 97.684 * log10(heightIn) - 78.387;
      }

      bodyFat = Math.max(0, Math.min(100, bodyFat));
      const bfRounded = bodyFat.toFixed(1);

      let category, advice, healthIndicator;
      if (gender === 'male') {
        if (bodyFat < 6) { 
          category = 'Essential Fat'; 
          advice = 'Very low body fat - ensure adequate nutrition and consult a healthcare professional.';
          healthIndicator = 'üü°';
        } else if (bodyFat < 14) { 
          category = 'Athlete'; 
          advice = 'Excellent athletic body composition. Great for performance sports.';
          healthIndicator = 'üü¢';
        } else if (bodyFat < 18) { 
          category = 'Fitness'; 
          advice = 'Healthy and fit body composition. Keep up your exercise routine!';
          healthIndicator = 'üü¢';
        } else if (bodyFat < 25) { 
          category = 'Acceptable'; 
          advice = 'Within normal healthy range. Consider increasing activity for better fitness.';
          healthIndicator = 'üü°';
        } else { 
          category = 'Obesity'; 
          advice = 'Consider a balanced diet and regular exercise to improve body composition and reduce health risks.';
          healthIndicator = 'üî¥';
        }
      } else {
        if (bodyFat < 14) { 
          category = 'Essential Fat'; 
          advice = 'Very low for women - monitor health markers and ensure adequate nutrition.';
          healthIndicator = 'üü°';
        } else if (bodyFat < 21) { 
          category = 'Athlete'; 
          advice = 'Excellent athletic body composition for female athletes.';
          healthIndicator = 'üü¢';
        } else if (bodyFat < 25) { 
          category = 'Fitness'; 
          advice = 'Healthy and fit body composition. Maintain your balanced routine!';
          healthIndicator = 'üü¢';
        } else if (bodyFat < 32) { 
          category = 'Acceptable'; 
          advice = 'Within normal range. Regular exercise can help optimize composition.';
          healthIndicator = 'üü°';
        } else { 
          category = 'Obesity'; 
          advice = 'Consider lifestyle changes focusing on nutrition and regular physical activity to reduce health risks.';
          healthIndicator = 'üî¥';
        }
      }

      const facts = [
        "üí° Muscle tissue burns more calories than fat tissue, even at rest!",
        "üìä Body fat % is often a better health risk indicator than BMI.",
        "üèãÔ∏è Strength training helps preserve muscle while reducing body fat.",
        "ü•ó Proper nutrition is responsible for about 70-80% of body composition changes.",
        "üíß Staying hydrated can temporarily affect body fat measurements.",
        "üò¥ Quality sleep is crucial for hormone regulation that impacts body composition."
      ];
      const fact = facts[Math.floor(Math.random() * facts.length)];

      resultEl.innerHTML = `
        <div class="result-box">
          <h3>üìä Your Body Fat Analysis</h3>
          <p><strong>Estimated Body Fat:</strong> ${bfRounded}% ${healthIndicator}</p>
          <p><strong>Category:</strong> ${category}</p>
          <p><strong>Health Guidance:</strong> ${advice}</p>
          <div class="fun-fact">${fact}</div>
        </div>
      `;
    });

    // Dark mode toggle
    document.addEventListener('DOMContentLoaded', () => {
      const toggle = document.getElementById("darkModeToggle");
      if (toggle) {
        toggle.addEventListener("click", () => {
          document.body.classList.toggle("dark-mode");
          localStorage.setItem("theme", document.body.classList.contains("dark-mode") ? "dark" : "light");
        });
        if (localStorage.getItem("theme") === "dark") {
          document.body.classList.add("dark-mode");
        }
      }

      // FAQ accordion
      document.querySelectorAll(".faq h3").forEach(faqHeader => {
        faqHeader.addEventListener("click", () => {
          faqHeader.parentElement.classList.toggle("active");
        });
      });
    });
  </script>
</body>
</html>
